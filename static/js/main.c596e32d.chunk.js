(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},18:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(9),r=a.n(l),o=(a(17),a(18),a(19),a(4)),s=a(2),i=a(1),u=a(3),m=a(5);var d=function(e){var t=e.duration,a=e.active,l=e.modalMode,r=Object(n.useContext)(h),o=r.columnHeight,d=r.eventList,f=r.seteventList,b=r.id,O=Object(n.useState)({}),v=Object(i.a)(O,2),j=v[0],E=v[1],g=Object(n.useState)({title:"",fields:[{label:"Title",name:"title"},{label:"Assignee",name:"assignee"},{label:"Assigned",name:"assigned"}]}),p=Object(i.a)(g,2),y=p[0],k=p[1];Object(n.useEffect)((function(){"create"===l?(k(Object(s.a)({},y,{title:"Please enter the required information"})),E({title:"",assignee:"",assigned:"",height:o,startTime:u.DateTime.fromMillis(parseInt(b)).toJSDate(),endTime:u.DateTime.fromMillis(parseInt(b)).plus(t).toJSDate()})):"edit"===l?(k(Object(s.a)({},y,{title:"Please edit the required information"})),E(Object(s.a)({},d[b]))):"delete"===l&&k(Object(s.a)({},y,{title:"Are you sure you want to delete this entry?"}))}),[]);var w=function(){a(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal  is-active"},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},y.title),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:w})),c.a.createElement("section",{className:"modal-card-body"},y.fields.length>0?y.fields.map((function(e){return c.a.createElement("div",{className:"field",key:"field_".concat(e.name)},c.a.createElement("div",{className:"control",key:"control_".concat(e.name)},c.a.createElement("input",{className:"input is-small",type:"text",placeholder:e.label,name:e.name,value:j[e.name]||"",onChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;E(Object(s.a)({},j,Object(m.a)({},a,n)))}(e)}})))})):null),c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button is-success",onClick:function(){f(Object(s.a)({},d,Object(m.a)({},b,Object(s.a)({},j)))),a(!1)}},"Yes"),c.a.createElement("button",{className:"button",onClick:w},"No")))))},f=a(10),b=a(11);var O=function(e){var t=e.id,a=Object(n.useContext)(h),l=a.cellRange,r=a.columnHeight,o=a.eventList,i=a.seteventList,d=a.week,O=a.handleEdit,v=o[t].height,j=function(e){var t=-1;for(var a in d){var n=d[a];if(-1!==n.indexOf(e)){var c,l=n.slice(n.indexOf(e)+1),s=Object(f.a)(l);try{for(s.s();!(c=s.n()).done;){var i=c.value;if(o[i]){t=l.indexOf(i);break}}}catch(u){s.e(u)}finally{s.f()}}}return-1!==t?r*(t+1):1/0},E=function(e,t){var a=e/r;return console.log(t),u.DateTime.fromJSDate(o[t].startTime).plus({minutes:l*a})};return c.a.createElement("div",null,c.a.createElement(b.Resizable,{className:"calendar-resizable",enable:{bottom:!0},grid:[0,r],key:t,minHeight:r,size:{width:"100%",height:v},onClick:function(){return O(t)},onResizeStop:function(e,a,n,c){return function(e,t,a,n,c){var l=j(c),r=o[c].height+n.height,u=r<=l?r:l,d=E(u,c);i(Object(s.a)({},o,Object(m.a)({},c,Object(s.a)({},o[c],{height:u,endTime:d}))))}(0,0,0,c,t)}},o[t].title))};var v=function(e){var t=e.handleCreate,a=Object(n.useContext)(h),l=a.columnHeight,r=a.eventList,s=a.week;return c.a.createElement("div",null,function(){for(var e=[],a=0;a<s.control.length;a++){var n=function(n){var i=s[n][a];e=[].concat(Object(o.a)(e),[c.a.createElement("div",{className:"control"===n?"calendar-column__control":"calendar-column",key:i,style:{height:"".concat(l,"px")},id:i,onClick:r[i]||"control"===n?null:function(){return t(i)}},r[i]?c.a.createElement(O,{id:i,eventList:r,columnHeight:l,week:s}):null,"control"===n?c.a.createElement("p",{className:"calendar-control"},s.control[a]):null)])};for(var i in s)n(i)}return c.a.createElement("div",{className:"calendar-grid"},e)}())},h=Object(n.createContext)();var j=function(){var e=u.DateTime.local(),t=Object(n.useState)({control:[],mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]}),a=Object(i.a)(t,2),l=a[0],r=a[1],m=Object(n.useState)(30),f=Object(i.a)(m,2),b=f[0],O=(f[1],Object(n.useState)({})),j=Object(i.a)(O,2),E=j[0],g=j[1],p=Object(n.useState)(15),y=Object(i.a)(p,2),k=y[0],w=(y[1],Object(n.useState)(e.startOf("week"))),N=Object(i.a)(w,2),S=N[0],L=N[1],C=Object(n.useState)(e.startOf("week").toFormat("LLLL yyyy")),_=Object(i.a)(C,2),M=_[0],T=_[1],D=Object(n.useState)(!1),x=Object(i.a)(D,2),F=x[0],H=x[1],I=Object(n.useState)(""),J=Object(i.a)(I,2),R=J[0],z=J[1],A=Object(n.useState)(""),P=Object(i.a)(A,2),q=P[0],B=P[1],W=Object(n.useState)([]),Y=Object(i.a)(W,2),$=Y[0],G=Y[1],K=u.Duration.fromObject({minutes:k}),Q=u.Duration.fromObject({hours:8}),U=u.Duration.fromObject({hours:20}),V=u.DateTime.local().startOf("day").plus(Q),X=u.DateTime.local().startOf("day").plus(U).diff(V,["hours"]).hours;Object(n.useEffect)((function(){var e=Z();r(e),T(ee(S)),G(ae(S))}),[S]),Object(n.useEffect)((function(){var e=Z();r(e)}),[E]),Object(n.useEffect)((function(){var e=Z();r(e)}),[]);var Z=function(){console.log("get time slots");for(var e=K,t=4*X,a=V,n=S.plus(Q),c=n,l=n.plus({days:1}),r=n.plus({days:2}),i=n.plus({days:3}),m=n.plus({days:4}),d=n.plus({days:5}),f=n.plus({days:6}),b={control:[],mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]},O=0;O<=t;O++)b=Object(s.a)({},b,{control:[].concat(Object(o.a)(b.control),[a.toLocaleString(u.DateTime.TIME_24_SIMPLE)]),mon:[].concat(Object(o.a)(b.mon),[c.toMillis().toString()]),tue:[].concat(Object(o.a)(b.tue),[l.toMillis().toString()]),wed:[].concat(Object(o.a)(b.wed),[r.toMillis().toString()]),thu:[].concat(Object(o.a)(b.thu),[i.toMillis().toString()]),fri:[].concat(Object(o.a)(b.fri),[m.toMillis().toString()]),sat:[].concat(Object(o.a)(b.sat),[d.toMillis().toString()]),sun:[].concat(Object(o.a)(b.sun),[f.toMillis().toString()])}),a=a.plus(e),c=c.plus(e),l=l.plus(e),r=r.plus(e),i=i.plus(e),m=m.plus(e),d=d.plus(e),f=f.plus(e);return b},ee=function(e){var t=e.startOf("week").toFormat("LLLL"),a=e.endOf("week").toFormat("LLLL"),n=e.startOf("week").toFormat("yyyy"),c=e.endOf("week").toFormat("yyyy");return t!==a?n!==c?"".concat(t," ").concat(n," - ").concat(a," ").concat(c):"".concat(t," - ").concat(a," ").concat(n):e.startOf("week").toFormat("LLLL yyyy")},te=function(e){L("forward"===e?S.plus({week:1}):S.minus({week:1}))},ae=function(e){for(var t=[],a=0;a<7;a++){var n=e.plus({days:a}),c={letters:n.toFormat("EEE"),number:n.toFormat("dd")};t=[].concat(Object(o.a)(t),[{formatted:c,date:n}])}return t};return c.a.createElement("div",{className:"calendar"},c.a.createElement(h.Provider,{value:{cellRange:k,columnHeight:b,eventList:E,seteventList:g,week:l,handleEdit:function(e){z(e),B("edit"),H(!0)},id:R}},F?c.a.createElement(d,{duration:K,active:H,modalMode:q}):null,c.a.createElement("div",{className:"calendar-weekControl"},c.a.createElement("span",{className:"calendar-weekControl__left",onClick:function(){return te("back")}},c.a.createElement("i",{className:"fas fa-arrow-circle-left"})),c.a.createElement("h1",{className:"calendar-weekControl__month"},M),c.a.createElement("span",{className:"calendar-weekControl__right",onClick:function(){return te("forward")}},c.a.createElement("i",{className:"fas fa-arrow-circle-right"}))),c.a.createElement("div",{className:"calendar-header"},c.a.createElement("div",{className:"calendar-header__element-first"}),$.length>0?$.map((function(t){return c.a.createElement("div",{key:t.formatted.letters,className:"calendar-header__element"},c.a.createElement("span",{className:"calendar-letters"},t.formatted.letters),c.a.createElement("span",{className:e.hasSame(t.date,"day")?"calendar-today":"calendar-notToday"},t.formatted.number))})):null),c.a.createElement(v,{cellRange:k,handleCreate:function(e){z(e),B("create"),H(!0)}})))};var E=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.c596e32d.chunk.js.map